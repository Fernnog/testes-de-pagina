<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal P√©rola Rara</title>
    <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
    
    <!-- CSS Unificados -->
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/orcamentos.css">
    <link rel="stylesheet" href="assets/css/precificacao.css">

    <!-- Bibliotecas Externas -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx/dist/xlsx.full.min.js"></script>

    <!-- Scripts Modulares -->
    <!-- Observe que importamos o precificacao.js e orcamentos.js aqui. 
         Voc√™ precisar√° remover os imports de Auth/App dentro deles e usar o firebase-config.js, 
         conforme explicarei no pr√≥ximo passo. -->
    <script type="module" src="assets/js/main.js"></script>
    <script type="module" src="assets/js/orcamentos.js"></script>
    <script type="module" src="assets/js/precificacao.js"></script>
</head>
<body>

    <!-- =========================================
         TELA 1: LOGIN CENTRALIZADO
    ========================================= -->
    <section id="auth-screen">
        <!-- Reutilizando o layout de login do precificacao.html -->
        <div class="auth-container">
            <div class="auth-form">
                <div class="logo-container">
                    <img src="assets/images/logo_perola_rara.png" alt="Logo P√©rola Rara" id="logo-login" style="max-width: 150px; display:block; margin: 0 auto;">
                </div>
                <h2>Acesso ao Portal</h2>
                
                <!-- O login.js foi removido. A l√≥gica deve ser migrada para main.js ou mantida nos arquivos de modulo se eles tiverem listeners -->
                <!-- Para simplificar, vamos manter a estrutura visual. A l√≥gica de login est√° no precificacao.js e orcamentos.js 
                     MAS precisamos consolidar. Por enquanto, mantenha o HTML abaixo. -->
                
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" placeholder="Digite seu email">
                </div>
                <div class="form-group">
                    <label for="password">Senha:</label>
                    <input type="password" id="password" name="password" placeholder="Digite sua senha">
                </div>
                <div class="auth-buttons">
                    <button type="button" id="loginBtn">Entrar</button>
                    <!-- Registro pode ser ocultado ou mantido conforme sua regra de neg√≥cio -->
                </div>
                <p id="auth-message" class="auth-message"></p>
                <p class="slogan" style="text-align: center; margin-top: 20px;"><strong><em>"P√©rola Rara, onde a arte se encontra com o amor em cada detalhe".</em></strong></p>
            </div>
        </div>
    </section>

    <!-- =========================================
         TELA 2: HUB (MENU PRINCIPAL)
    ========================================= -->
    <section id="hub-screen" style="display: none;">
        <header class="hub-header">
            <img src="assets/images/logo_perola_rara.png" alt="Logo P√©rola Rara">
            <h1>Ol√°! Bem-vindo(a)</h1>
            <p>Logado como: <span id="user-email-display">...</span></p>
            <p>Selecione o m√≥dulo que deseja acessar:</p>
        </header>

        <div class="hub-cards-container">
            <!-- Cart√£o 1 -->
            <div class="hub-card" id="btn-go-orcamentos">
                <h2 style="font-size: 3rem;">üìù</h2>
                <h3>Or√ßamentos e Pedidos</h3>
                <p>Gerenciamento de clientes, cria√ß√£o de or√ßamentos e controle de produ√ß√£o.</p>
            </div>

            <!-- Cart√£o 2 -->
            <div class="hub-card" id="btn-go-precificacao">
                <h2 style="font-size: 3rem;">üßÆ</h2>
                <h3>Precifica√ß√£o</h3>
                <p>C√°lculo de custos de materiais, m√£o de obra e margem de lucro.</p>
            </div>
        </div>

        <button id="hubLogoutBtn">Sair do Sistema</button>
    </section>

    <!-- =========================================
         TELA 3: M√ìDULO OR√áAMENTOS
    ========================================= -->
    <section id="module-orcamentos" style="display: none;">
        <button class="btn-back-hub">‚¨Ö Voltar ao Menu</button>
        
        <!-- IN√çCIO DO CONTE√öDO ORIGINAL INDEX.HTML (OR√áAMENTOS) -->
        <!-- Copie APENAS o que estava dentro da div class="container" do seu primeiro arquivo -->
        <div class="container">
            <header>
                 <!-- (Conte√∫do do Header original de or√ßamentos...) -->
                 <h1>P√©rola Rara - Gest√£o de Pedidos</h1>
                 <nav>
                    <!-- IMPORTANTE: Remova o bot√£o "Sair" daqui, pois agora temos o bot√£o global "Voltar ao Menu" -->
                    <ul>
                        <li><a href="#" data-pagina="form-orcamento">In√≠cio</a></li>
                        <li><a href="#" data-pagina="orcamentos-gerados">Or√ßamentos Gerados</a></li>
                        <li><a href="#" data-pagina="lista-pedidos">Pedidos Realizados</a></li>
                        <li><a href="#" data-pagina="relatorio">Relat√≥rio</a></li>
                    </ul>
                 </nav>
            </header>
            
            <div id="appContent">
               <!-- COPIE AQUI TODAS AS SECTIONS (form-orcamento, orcamentos-gerados, etc) DO INDEX.HTML ORIGINAL -->
               <!-- ... -->
            </div>
        </div>
        <!-- FIM DO CONTE√öDO ORIGINAL INDEX.HTML -->
    </section>

    <!-- =========================================
         TELA 4: M√ìDULO PRECIFICA√á√ÉO
    ========================================= -->
    <section id="module-precificacao" style="display: none;">
        <button class="btn-back-hub">‚¨Ö Voltar ao Menu</button>

        <!-- IN√çCIO DO CONTE√öDO ORIGINAL PRECIFICA√á√ÉO.HTML -->
        <!-- Copie o conte√∫do da div id="app-container" do arquivo de precifica√ß√£o -->
        <div id="app-container-precificacao" style="width: 90%; margin: 20px auto; background: #fff; padding: 20px;">
            <header>
                 <!-- (Conte√∫do do Header original de precifica√ß√£o...) -->
                 <h1>Precifica√ß√£o</h1>
                 <nav>
                     <!-- Copie a Nav original da precifica√ß√£o -->
                     <ul>
                        <li><a href="#" data-submenu="materiais-insumos" class="nav-link">Materiais</a></li>
                        <li><a href="#" data-submenu="mao-de-obra" class="nav-link">M√£o de Obra</a></li>
                        <!-- ... outros links ... -->
                    </ul>
                 </nav>
            </header>

            <!-- COPIE AQUI TODAS AS SECTIONS (materiais-insumos, calculo-precificacao, etc) DO PRECIFICA√á√ÉO.HTML ORIGINAL -->
            <!-- ... -->
        </div>
        <!-- FIM DO CONTE√öDO ORIGINAL PRECIFICA√á√ÉO.HTML -->
    </section>

</body>
</html>
